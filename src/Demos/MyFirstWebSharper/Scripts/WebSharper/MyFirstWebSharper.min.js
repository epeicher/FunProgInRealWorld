(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{MyFirstWebSharper:{Client:{Main:function(){var s,t,u,v,w,x,y,z,E,F,G,H,I,J,K;s=a.ofArray([d.Attr().NewAttr("value","")]);t=e.Tags().NewTag("input",s);u=$.New(f,{$:0});v=e.Tags().NewTag("h1",u);x=a.ofArray([e.Tags().text("Send")]);y=e.Tags().NewTag("button",x);z=function(){return function(){return g.Start(g.Delay(function(){return g.Bind(i.Async("MyFirstWebSharper:0",[t.get_Value()]),function(D){v.set_Text(D);return g.Return(null);});}),{$:0});};};j.Events().OnClick(z,y);E=$.New(f,{$:0});F=a.ofArray([d.Attr().NewAttr("class","text-muted")]);G=a.ofArray([d.Attr().NewAttr("class","jumbotron")]);H=a.ofArray([d.Attr().NewAttr("class","row")]);I=a.ofArray([d.Attr().NewAttr("class","col-md-6")]);J=a.ofArray([d.Attr().NewAttr("class","col-md-6")]);K=$.New(f,{$:0});w=a.ofArray([t,y,e.Tags().NewTag("hr",E),k.add(e.Tags().NewTag("h4",F),a.ofArray([e.Tags().text("The server responded:")])),k.add(e.Tags().NewTag("div",G),a.ofArray([v])),k.add(e.Tags().NewTag("div",H),a.ofArray([k.add(e.Tags().NewTag("div",I),a.ofArray([m.SimpleMap()])),k.add(e.Tags().NewTag("div",J),a.ofArray([m.Moon()]))])),e.Tags().NewTag("hr",K)]);return e.Tags().NewTag("div",w);},Start:function(L,M){var N;N=g.Delay(function(){return g.Bind(i.Async("MyFirstWebSharper:0",[L]),function(P){return g.Return(M(P));});});return g.Start(N,{$:0});}},ExampleD3:{Main:function(){var Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_7,_,ba,bb,bc,bd,bk,bG;Q=n.select("head").append("link").attr("rel","stylesheet").attr("type","text/css").attr("href","chart.css");R={Top:10,Right:10,Bottom:100,Left:40};S={Top:430,Right:10,Bottom:20,Left:40};T=800-R.Left-R.Right;U=500-R.Top-R.Bottom;V=500-S.Top-S.Bottom;W=n.time.scale().range([0,T]);X=n.time.scale().range([0,T]);Y=n.scale.linear().range([U,0]);Z=n.scale.linear().range([V,0]);_0=n.svg.axis().scale(W).orient("bottom");_1=n.svg.axis().scale(X).orient("bottom");_2=n.svg.axis().scale(Y).orient("left");_3=n.svg.brush().x(X);_4=n.svg.area().interpolate("monotone").x(function(_5){return W(_5.Date);}).y0(o(U)).y1(function(_6){return Y(_6.Price);});_7=n.svg.area().interpolate("monotone").x(function(_8){return X(_8.Date);}).y0(o(V)).y1(function(_9){return Z(_9.Price);});_=n.select("body").append("svg").attr("align","center").attr("width",T+R.Left+R.Right).attr("height",U+R.Top+R.Bottom);ba=_.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",T).attr("height",U);bb=_.append("g").attr("transform","translate("+R.Left+","+R.Top+")");bc=_.append("g").attr("transform","translate("+S.Left+","+S.Top+")");bd=function(){var bf,bg,bh,bi,bj;if(_3.empty()){bg=X.domain();}else{bh=_3.extent();bg=bh;}bf=W.domain(bg);bi=bb.select("path").attr("d",_4);bj=bb.select(".x.axis");return _0(bj);};bk=_3.on("brush",bd);n.csv("sp500.csv",function(bl){var bm,bn,bp,br,bs,bt,bv,bx,by,bz,bA,bB,bC,bD,bE;bm=n.time.format("%b %Y");bn=function(bo){return bm.parse(bo);};bp=function(bq){return{Date:bn(bq.date),Price:+bq.price};};br=p.map(bp,bl);bt=n.extent(br,function(bu){return bu.Date;});bs=W.domain(bt);bv=Y.domain([0,n.max(br,function(bw){return bw.Price;})]);bx=X.domain(W.domain());by=Z.domain(Y.domain());bz=bb.append("path").datum(br).attr("clip-path","url(#clip)").attr("d",_4);bA=bb.append("g").attr("class","x axis").attr("transform","translate("+0+","+U+")");_0(bA);bB=bb.append("g").attr("class","y axis");_2(bB);bC=bc.append("path").datum(br).attr("d",_7);bD=bc.append("g").attr("class","x axis").attr("transform","translate("+0+","+V+")");_1(bD);bE=bc.append("g").attr("class","x brush").call(function(bF){return _3(bF);}).selectAll("rect").attr("y",-6).attr("height",V+7);return;});bG=$.New(f,{$:0});return e.Tags().NewTag("div",bG);}},ExampleMaps:{Moon:function(){var bG;bG=function(bH){var bI,bR,bY,bZ,b0,b1,b2,b3;bI=function(bJ){var bK,bL,bM,bN,bO,bP,bQ;bK=bJ[0];bL=bJ[1];bM=bJ[2];bN=bK.x;bO=bK.y;bP=o(1<<bL);if(bO<0?true:bO>=bP){bQ=null;}else{(bN<0?true:bN>=bP)?bN=(bN%bP+bP)%bP:null;bQ=bM([new q.maps.Point(bN,bO),bL]);}return bQ;};bR={};bR.getTileUrl=function(bS,bT){return bI([bS,bT,function(bU){var bV,bW,bX;bV=bU[0];bW=bU[1];bX=r.pow(o(2),o(bW));return"http://mw1.google.com/mw-planetary/lunar/lunarmaps_v1/clem_bw/"+$$.String(bW)+"/"+$$.String(bV.x)+"/"+($$.String(bX-bV.y-1)+".jpg");}]);};bR.tileSize=new q.maps.Size(256,256);bR.maxZoom=9;bR.minZoom=0;bR.name="Moon";bY=new q.maps.ImageMapType(bR);bZ=new q.maps.LatLng(0,0);b0=["Moon"];b1={};b1.style=q.maps.MapTypeControlStyle.DROPDOWN_MENU;b1.mapTypeIds=b0;b2=b1;b3={center:bZ,zoom:0,mapTypeId:p.get(b0,0)};b3.mapTypeControlOptions=b2;bH.setOptions(b3);bH.mapTypes.set("Moon",bY);return null;};return m.Sample(bG);},Sample:function(b4){var b5,b6,b7;b5=a.ofArray([d.Attr().NewAttr("style","padding-bottom:20px; width:500px; height:300px;")]);b6=e.Tags().NewTag("div",b5);b7=function(b8){var b9,b_,b$;b9=new q.maps.LatLng(36.6991218,-4.4384684);b_={center:b9,zoom:8};b$=new q.maps.Map(b8.Dom,b_);return b4(b$);};k.OnAfterRender(b7,b6);return b6;},SimpleMap:function(){var ca;ca=function(cb){var cc,cd;cc=new q.maps.LatLng(36.6980949,-4.4390111);cd={center:cc,zoom:16};return cb.setOptions(cd);};return m.Sample(ca);}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.List);b=$.Safe($$.WebSharper.Html);c=$.Safe(b.Client);d=$.Safe(c.Attr);e=$.Safe(c.Tags);f=$.Safe(a.T);g=$.Safe($$.WebSharper.Concurrency);h=$.Safe($$.WebSharper.Remoting);i=$.Safe(h.AjaxRemotingProvider);j=$.Safe(c.EventsPervasives);k=$.Safe(c.Operators);l=$.Safe($$.MyFirstWebSharper);m=$.Safe(l.ExampleMaps);n=$.Safe($$.d3);o=$.Safe($$.Number);p=$.Safe($$.WebSharper.Arrays);q=$.Safe($$.google);return r=$.Safe($$.Math);});$.OnLoad(function(){return;});}());
